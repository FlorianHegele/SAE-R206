{% extends 'admin/layout_admin.html' %}
{% block title %}
    <title>modifier un exemplaire</title>
{% endblock %}

{% block body %}
    <h2>modifier la déclinaison d'un meuble </h2>
    <div class="row mt-5">
        meuble : <strong>{{ declinaison_meuble.nom_meuble }}</strong><br>
        {% if declinaison_meuble.image_meuble is defined and declinaison_meuble.image_meuble is not none %}
            <img class="card-img-top rounded mx-4 d-block"
                 style="width:200px; height:200px; border: 1px solid black; padding: 25px;"
                 src="{{ url_for('static', filename = 'images/') }}{{ declinaison_meuble.image_meuble_meuble }}"
                 alt="image  de {{ declinaison_meuble["libelle"] }}">
        {% else %}
            <i class="card-img-top rounded mx-4 d-block">pas de photo</i>{#{{ declinaison_meuble|pprint }}#}
        {% endif %}

        <div class="w-25">
            <form class="w-190" method="post" action="/admin/declinaison_meuble/edit" enctype="multipart/form-data">
                <input type="hidden" value="{{ declinaison_meuble.id_declinaison_meuble }}"
                       name="id_declinaison_meuble">
                <input type="hidden" value="{{ declinaison_meuble.id_meuble }}" name="id_meuble">
                <label for="stock">Stock :
                    <input name="stock" type="number" min="0" step="1" value="{{ declinaison_meuble.stock }}"
                           class="form-control">
                </label>
                {% if  d_materiau_uniq is defined and  d_materiau_uniq==1 %}
                    <div>!</div>
                    <div><strong>Un materiau unique est définie </strong></div>
                    <div>il faut faut la supprimer pour modifier la materiau</div>
                    <input type="hidden" name="id_materiau" value="1">
                {% else %}
                    <label for="id_materiau">materiau :
                        <select name="id_materiau" class="form-select">
                            {% for materiau in materiaux %}
                                <option value="{{ materiau.id_materiau }}"
                                        {% if materiau.id_materiau == declinaison_meuble.id_materiau %} selected {% endif %}
                                > {{ materiau.libelle }}</option>
                            {% endfor %}
                        </select>
                    </label>
                {% endif %}
                {% if  d_couleur_uniq is defined and  d_couleur_uniq==1 %}
                    <div>!</div>
                    <div><strong>Une couleur unique est définie </strong></div>
                    <div>il faut faut la supprimer pour modifier la couleur</div>
                    <input type="hidden" name="id_couleur" value="1">
                {% else %}
                    <label for="id_couleur"> couleur :
                        <select name="id_couleur" class="form-select">
                            {% for couleur in couleurs %}
                                <option value="{{ couleur.id_couleur }}"
                                        {% if couleur.id_couleur == declinaison_meuble.id_couleur %}
                                        selected {% endif %}
                                > {{ couleur.libelle }}</option>
                            {% endfor %}
                        </select>
                    </label>
                {% endif %}
                <br>
                <label for="submit">
                    <input name="submit" type="submit" value="Modifier" class="btn btn-primary mt-2">
                </label>
            </form>
            <a href="/admin/meuble/edit?id_meuble={{ declinaison_meuble.id_meuble }}">
                <button class="btn btn-secondary  mt-4">annuler</button>
            </a>
        </div>
    </div>
{% endblock %}
